<div class="flex-row-between table-head">
  <span>产品配置:</span>
  <button nz-button nzType="default" (click)="addConfig()">
    <span nz-icon nzType="plus" nzTheme="outline"></span>
    添加
  </button>
</div>
<!-- ['20%','60%','5%','10%','5%'] -->
<nz-table [nzData]="[{}]" [nzShowPagination]="false" [nzSize]="'small'" [nzWidthConfig]="['15%','70%','7.5%','7.5%']">
  <thead>
    <tr>
      <th>配置名称</th>
      <th>配置参数</th>
      <th>多选</th>
      <!-- <th>默认值</th> -->
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let config of configList; let configIndex = index">
      <td><input type="text" nz-input [(ngModel)]="config.name" /></td>
      <td>
        <ng-container
          *ngFor="let item of config.configvalueList; let valueIndex = index"
        >
          <nz-input-group
            [nzSuffix]="delete"
            style="width: fit-content; margin-right: 10px"
          >
            <input
              type="text"
              nz-input
              [(ngModel)]="item.value"
              [ngModelOptions]="{ standalone: true }"
            />
          </nz-input-group>
          <ng-template #delete>
            <span
              nz-icon
              nzType="close"
              class="hover"
              (click)="deleteConfigValue(configIndex, valueIndex)"
            ></span>
          </ng-template>
        </ng-container>
        <button
          nz-button
          nzType="dashed"
          style="width: 100px; border: 2px dashed #ddd; border-radius: 10px"
          (click)="addConfigValue(configIndex)"
        >
          <span nz-icon nzType="plus" nzTheme="outline"></span>
        </button>
      </td>
      <td>
        <label nz-checkbox [(ngModel)]="config.isMulti"></label>
      </td>
      <!-- <td>默认值</td> -->
      <td><button nz-button nzType="primary" (click)="deleteConfig(configIndex)">删除</button></td>
    </tr>
  </tbody>
</nz-table>
